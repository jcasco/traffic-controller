# traffic light controller 
In most cases traffic lights operate either by a fixed timer or with a timer in tandem with sensors which detect traffic. These timers usually vary according to time of day and traffic conditions. Some modern traffic light controllers can even be coordinated to continuously maximize traffic flow. For this lab we concentrate on a single traffic light controller using sensors.
The traffic light designed for this particular lab is implemented for an intersection of a busy highway and a smaller side street which sees much less traffic. In East West direction the lights change together or operate in phase. The North South traffic lights also transition in phase. During regular operation, when no side street traffic is present, the highway traffic light stays green considerably longer than the side street traffic light. If a side street sensor detects a car waiting to travel, the wait time for the traffic lights to transition will be shortened.  The length of time the side street remains green is the same as if there were no cars waiting. The lights then transition back to highway green.
The first module takes the onboard clock signal and divides it to a frequency of 1 HZ which is then sent the FSM module as an input. The RST and car sensor signals implemented as pushbuttons are also sent to the FSM as inputs. When reset, the count starts at 0 and current state becomes HG (highway green). If count is less than LW (long wait time)  or CS(car sensor) count is less than SW(short wait time) the current state is held. Otherwise, it transitions to the next state, HY. This state is held momentarily. The next state, SG (side green), is held until it reaches the SW time. It then transitions to SY, then back to HG. The last module takes the current state as input and outputs the correct light pattern on the 7 segment display.
![alt tag](https://github.com/jcasco/traffic-controller/blob/master/img/fig1.png)
![alt tag](https://github.com/jcasco/traffic-controller/blob/master/img/fig2.png)
![alt tag](https://github.com/jcasco/traffic-controller/blob/master/img/fig3.png)
